
<https://w3id.org/dsanno/platform/pattern/image/iiif_image/incorporated_in/canvas/context> {
  _:genid-d961acc187c341d7b1cc837e016cd04b-9s2ps a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> """DELETE { 
  ?digital_object crm:P165i_is_incorporated_in $value .
  #$value a crmdig:D1_Digital_Object .
  #$value crm:P2_has_type <http://iiif.io/api/presentation#Canvas> .
} WHERE { 
  $subject crm:P129i_is_subject_of ?digital_object .
  ?digital_object a crmdig:D1_Digital_Object .
  ?digital_object crm:P2_has_type <http://iiif.io/api/image> .
  ?digital_object crm:P165i_is_incorporated_in $value .
  $value a crmdig:D1_Digital_Object .
      
  ?value crm:P2_has_type <http://iiif.io/api/presentation#Canvas> .
}""" .
  
  <https://w3id.org/dsanno/platform/pattern/image/iiif_image/incorporated_in/canvas>
    a <http://www.researchspace.org/resource/system/fields/Field>, <http://www.w3.org/ns/prov#Entity>,
      <http://www.w3.org/ns/ldp#Resource>;
    <http://www.researchspace.org/resource/system/fields/deletePattern> _:genid-d961acc187c341d7b1cc837e016cd04b-9s2ps;
    <http://www.researchspace.org/resource/system/fields/xsdDatatype> <http://www.w3.org/2001/XMLSchema#anyURI>;
    <http://www.researchspace.org/resource/system/fields/minOccurs> "0";
    <http://www.researchspace.org/resource/system/fields/insertPattern> _:genid-d961acc187c341d7b1cc837e016cd04b-a5xpdi;
    <http://www.researchspace.org/resource/system/fields/selectPattern> _:genid-d961acc187c341d7b1cc837e016cd04b-uzntrr;
    <http://www.researchspace.org/resource/system/fields/domain> <http://www.cidoc-crm.org/cidoc-crm/E36_Visual_Item>;
    <http://www.researchspace.org/resource/system/fields/maxOccurs> "1";
    <http://www.w3.org/2000/01/rdf-schema#label> "IIIF canvas id";
    <http://www.w3.org/ns/prov#wasAttributedTo> <http://www.researchspace.org/resource/user/admin>;
    <http://www.w3.org/ns/prov#generatedAtTime> "2025-01-01T18:16:01.392+01:00"^^<http://www.w3.org/2001/XMLSchema#dateTime> .
  
  _:genid-d961acc187c341d7b1cc837e016cd04b-uzntrr a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> """SELECT DISTINCT ?value WHERE {
  $subject crm:P129i_is_subject_of ?digital_object .
  ?digital_object a crmdig:D1_Digital_Object .
  ?digital_object crm:P2_has_type <http://iiif.io/api/image> .
  ?digital_object crm:P165i_is_incorporated_in $value .
  $value a crmdig:D1_Digital_Object .
      
  ?value crm:P2_has_type <http://iiif.io/api/presentation#Canvas> .
}""" .
  
  _:genid-d961acc187c341d7b1cc837e016cd04b-a5xpdi a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> """INSERT { 
  $subject crm:P129i_is_subject_of ?digital_object .
  ?digital_object a crmdig:D1_Digital_Object .
  ?digital_object crm:P2_has_type <http://iiif.io/api/image> .
  ?digital_object crm:P165i_is_incorporated_in $value .
  $value a crmdig:D1_Digital_Object .
  $value crm:P2_has_type <http://iiif.io/api/presentation#Canvas> .
      
} WHERE {
  BIND(URI(CONCAT(STR($subject),\"/iiif_image\")) as ?digital_object)
}""" .
  
  <http://www.researchspace.org/resource/system/fieldDefinitionContainer> <http://www.w3.org/ns/ldp#contains>
      <https://w3id.org/dsanno/platform/pattern/image/iiif_image/incorporated_in/canvas> .
}
